<template>
    <require from="../../../items/generic-storage.css"></require>
    <require from="../../../items/generic-storage-modal.css"></require>
    <require from="./storage-barcode-sample-assignment.css"></require>
    <require from="../../../reader/data-structures/container-states"></require>
    <require from="../position-map"></require>

    <ux-dialog>
    <!-- Modal header -->
    <div class="modal-header">
    <div class="col-sm-12 assignment-properties">
            
        <!-- Close button -->
        <button type="button" class="close" aria-label="Close" click.trigger="controller.cancel()">
            <span aria-hidden="true">&times;</span>
        </button>

        <label value.bind="title"></label>
            
        <div class="modal-body">

            <!-- Title -->
            <h4 class="modal-title">${title}</h4>

            <div>
                <hr />
            </div>

            <!--The tag display-->
            <div class="row" align="center">
                <position-map states.bind="containerStates"></position-map>
            </div>


            <!-- Barcode -->
            <div class="form-group col-sm-12">
                <label>Barcode *</label>
                <input id="barcodeLbl" type="text" value.bind="barcodeSample.barcode" class="form-control" keypress.delegate="handleKeyPress($event)" autofocus="autofocus" />
            </div>
        </div>
            
        <!-- Modal footer, command button row -->
        <div class="modal-footer">
            <!-- Separator -->
            <div>
                <hr />
            </div>
            
            <div class="form-group button-separator">
                <button type="button" class="btn btn-primary" disabled.bind="(!canUpdateDb) || (!barcodeSample.barcode)" click.trigger="confirm()">Confirm</button>
                <button type="button" class="btn btn-primary" click.trigger="controller.cancel()">Cancel</button>
            </div>
        </div>
    </div>
    </div>
    </ux-dialog>

</template>